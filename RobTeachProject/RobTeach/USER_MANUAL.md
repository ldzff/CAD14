# RobTeach 软件使用手册

## 1. 简介

RobTeach 是一款用于机器人示教和轨迹规划的桌面应用程序。它允许用户从DXF文件中加载几何图形，将这些图形定义为机器人轨迹，配置喷涂参数，并将最终程序发送到机器人控制器。

## 2. 主要功能

- **DXF文件加载**：加载包含2D几何图形（线、圆、圆弧、多段线）的DXF文件，并在画布上进行可视化。
- **轨迹创建和管理**：
    - 将DXF实体选择为轨迹。
    - 将轨迹组织成多个“喷涂遍数”。
    - 在一个遍数内重新排序轨迹。
- **参数配置**：
    - 为每个轨迹配置喷嘴设置（气体和液体）。
    - 调整轨迹的几何属性，例如Z高度和方向。
    - 为每个轨迹设置运行时间。
- **机器人通信**：
    - 通过Modbus TCP连接到机器人控制器。
    - 将配置的轨迹程序发送到机器人。
    - 启动和监控机器上的测试运行。
- **配置管理**：
    - 保存和加载包含所有轨迹、参数和DXF数据的工作区。
- **多语言支持**：
    - 支持英语和中文界面。

## 3. 用户界面

### 3.1. 主工具栏

- **Load DXF（加载DXF）**：打开文件对话框以选择并加载DXF文件。
- **Save Config（保存配置）**：将当前会话（包括DXF、轨迹和设置）保存到JSON配置文件中。
- **Load Config（加载配置）**：从JSON文件中加载以前保存的会话。
- **Fit to View（适应视图）**：缩放和平移画布以显示所有加载的DXF实体。
- **Show 3D View（显示3D视图）**：打开一个新窗口，显示轨迹的3D可视化。
- **Language ComboBox（语言组合框）**：在英语和中文之间切换用户界面。

### 3.2. CAD画布

- 显示从DXF文件加载的几何图形。
- **选择**：单击一个实体以将其选为轨迹。
- **缩放**：使用鼠标滚轮。
- **平移**：按住鼠标中键或Ctrl +鼠标左键并拖动。
- **框选**：单击并拖动以选择多个实体。

### 3.3. 配置面板

- **Product（产品）**：为当前配置指定一个名称。
- **Spray Pass Management（喷涂遍数管理）**：
    - **Available Passes（可用遍数）**：列出所有已创建的喷涂遍数。
    - **Add/Remove/Rename Pass（添加/移除/重命名遍数）**：管理喷涂遍数。
- **Trajectory Sequence（轨迹顺序）**：
    - 显示当前所选遍数中的轨迹。
    - 使用“上移”和“下移”按钮重新排序。
- **Nozzle Settings（喷嘴设置）**：
    - 为所选轨迹启用/禁用上部和下部喷嘴的气体/液体。
- **Geometry（几何）**：
    - 调整所选轨迹的Z高度、反转方向和运行时间。
- **Test Run Control（测试运行控制）**：
    - 选择速度模式（慢速/标准）并开始测试运行。

### 3.4. Modbus面板

- **Modbus IP / Port**：输入机器人控制器的IP地址和端口。
- **Connect/Disconnect（连接/断开）**：管理与机器人的连接。
- **Send to Robot（发送到机器人）**：将程序发送到机器人。
- **状态指示器**：显示连接状态。

## 4. 工作流程

1. **加载几何图形**：单击“Load DXF”以加载您的CAD文件。
2. **创建喷涂遍数**：使用“Spray Pass Management”部分来组织您的工作。
3. **定义轨迹**：通过在CAD画布上单击它们来选择实体。它们将被添加到当前选定的喷涂遍数中。
4. **配置参数**：选择一个轨迹，并使用“Nozzle Settings”和“Geometry”面板来配置其属性。
5. **连接到机器人**：在Modbus面板中输入IP和端口，然后单击“Connect”。
6. **发送程序**：单击“Send to Robot”将您的配置上传到控制器。
7. **测试运行**：使用“Test Run Control”部分以所选速度在机器人上执行程序。
8. **保存工作**：单击“Save Config”以保存您的会话以供将来使用。
